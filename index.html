<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Willy 💚 Sisi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Sacramento&family=Work+Sans:wght@100;300;400;600;700&display=swap"
    rel="stylesheet">

  <!-- simplyCountdown -->
  <link rel="stylesheet" href="countdown/simplyCountdown.theme.default.css" />
  <script src="countdown/simplyCountdown.min.js"></script>

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <link rel="stylesheet" href="style.css">
</head>

<body>

  <section id="hero"
    class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center align-items-center text-black">
    <main>
      <h4>THE WEDDING OF</h4>
      <h1>Willy & Sisi</h1>
      <p>Kepada Yth. <span>Bapak/Ibu/Saudara/i</span></p>
      <div class="simply-countdown"></div>
      <a href="#home" class="btn btn-lg mt-4" onClick="enableScroll()">Buka Undangan</a>
    </main>

  </section>

  <nav class="navbar navbar-expand-md bg-transparent sticky-top mynavbar">
    <div class="container">
      <a class="navbar-brand" href="#">WS</a>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
        aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasNavbarLabel">WS</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <div class="navbar-nav ms-auto">
            <a class="nav-link" href="#home">Home</a>
            <a class="nav-link" href="#info">Info</a>
            <a class="nav-link" href="#story">Story</a>
            <a class="nav-link" href="#gallery">Gallery</a>
            <a class="nav-link" href="#rsvp">RSVP</a>
            <a class="nav-link" href="#gifts">Gifts</a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <section id="home" class="home">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 text-center">
          <h2>Acara Pernikahan</h2>
          <h3>Diselenggarakan pada 17 Januari 2026 Sijunjung, Sumatera Barat.</h3>
          <p>Oleh karena itu, dengan segala hormat, kami bermaksud untuk mengundang Bapak/Ibu/Saudara/i, untuk hadir
            pada acara pernikahan kami. </p>
        </div>
      </div>

    <div class="row couple align-items-center">

  <div class="col-lg-5">
    <div class="row g-0 align-items-center">
      <div class="col-8 text-end">
        <h3 class="couple-name">Willy Aryana</h3>
        <p>Putra Pertama dari<br>Bpk. Agus Hendrawanto dan Ibu Ani Mulyani</p>
      </div>
      <div class="col-4 ps-3">
        <img src="img/willy.jpeg" alt="Willy Aryana" class="couple-img pria shadow">
      </div>
    </div>
  </div>

  <div class="col-lg-2 text-center">
    <span class="heart d-none d-lg-block"><i class="bi bi-heart-fill"></i></span>
  </div>

  <div class="col-lg-5">
    <div class="row g-0 align-items-center">
      <div class="col-4 pe-3">
        <img src="img/sisi.jpeg" alt="Sisi Febria Agami" class="couple-img shadow">
      </div>
      <div class="col-8">
        <h3 class="couple-name">Sisi Febria Agami</h3>
        <p>Putri Pertama dari<br>Bpk. Boy Hendri dan Ibu Atri</p>
      </div>
    </div>
  </div>

</div>
  </section>


  <section id="info" class="info">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Informasi Acara</h2>
          <p class="alamat">Alamat: Jorong Koto Palaluar, Nagari Palaluar (Tanjung Ampalu),<br>Kecamatan Koto VII, Kabupaten Sijunjung, Sumatera Barat</p>

          <iframe src="https://www.google.com/maps/embed?pb=!1m23!1m12!1m3!1d127666.59393658579!2d100.77212622504135!3d-0.6248493538382482!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m8!3e6!4m0!4m5!1s0x2e2b27007fae4d09%3A0x6f1d522a2a1a78!2s9VG3%2B3R7%2C%20Padang%20Laweh%2C%20Kec.%20Koto%20VII%2C%20Kabupaten%20Sijunjung%2C%20Sumatera%20Barat%2027443!3m2!1d-0.6248802999999999!2d100.8545098!5e0!3m2!1sid!2sid!4v1745912505617!5m2!1sid!2sid" width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
          </iframe>
          
          <a href="https://www.google.com/maps/dir//9VG3%2B3R7+Rumah+Sisi+Febria+Agami,+Padang+Laweh,+Kec.+Koto+VII,+Kabupaten+Sijunjung,+Sumatera+Barat+27443/@-0.62485,100.8545282,17z/data=!4m8!4m7!1m0!1m5!1m1!1s0x2e2b27007fae4d09:0x6f1d522a2a1a78!2m2!1d100.8545098!2d-0.6248803?entry=ttu&g_ep=EgoyMDI1MDQyMy4wIKXMDSoASAFQAw%3D%3D"_blank" class="btn btn-light btn-sm my-3">Klik untuk
            membuka peta</a>
          <p class="description">Diharapkan untuk tidak salah alamat dan tanggal & hati-hati di jalan ya semuanya semoga selalu diberikan kesehatan
          </p>
        </div>
      </div>

      <div class="row justify-content-center mt-4">
        <div class="col-md-5 col-10">
          <div class="card text-center text-bg-light mb-5">
            <div class="card-header">Akad Nikah</div>
            <div class="card-body">
              <div class="row justify-content-center">
                <div class="col-md-6">
                  <i class="bi bi-clock d-block"></i>
                  <span>08.00 - 10.00</span>
                </div>
                <div class="col-md-6">
                  <i class="bi bi-calendar3 d-block"></i>
                  <span>Sabtu, 17 Januari 2026</span>
                </div>
              </div>
            </div>
            <div class="card-footer">
              Saat acara akad diharapkan untuk kondusif menjaga kekhidmatan dan kekhusyukan seluruh prosesi.
            </div>
          </div>
        </div>
        <div class="col-md-5 col-10">
          <div class="card text-center text-bg-light">
            <div class="card-header">Resepsi</div>
            <div class="card-body">
              <div class="row justify-content-center">
                <div class="col-md-6">
                  <i class="bi bi-clock d-block"></i>
                  <span>10.00 - Selesai</span>
                </div>
                <div class="col-md-6">
                  <i class="bi bi-calendar3 d-block"></i>
                  <span>Sabtu, 17 Januari 2026</span>
                </div>
              </div>
            </div>
            <div class="card-footer">
              Saat acara resepsi diharapkan untuk makan dan minum hidangan yang telah disediakan untuk mengambil keberkahan dalam pernikahan.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="story" class="story">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>BAGAIMANA KISAH KAMI DIMULAI?</span>
          <h2>Cerita Kami</h2>
          <p>Kisah yang tak terduga, menjadi awal dari kisah ini dimulai
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <ul class="timeline">
            <li>
              <div class="timeline-image" style="background-image: url(img/Masjid\ Al\ Aqsha.jpg);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Keyakinan Bersama</h3>
                  <span>QS AL-Hujurat: 13 dan HR Abu Ya'la.</span>
                </div>
                <div class="timeline-body">
                  <p>يَٰٓأَيُّهَا ٱلنَّاسُ إِنَّا خَلَقۡنَٰكُم مِّن ذَكَرٖ وَأُنثَىٰ وَجَعَلۡنَٰكُمۡ شُعُوبٗا وَقَبَآئِلَ لِتَعَارَفُوٓاْۚ إِنَّ أَكۡرَمَكُمۡ عِندَ ٱللَّهِ أَتۡقَىٰكُمۡۚ إِنَّ ٱللَّهَ عَلِيمٌ خَبِيرٞ
                    Hai manusia, sesungguhnya Kami menciptakan kamu dari seorang laki-laki dan
                    seorang perempuan dan menjadikan kamu berbangsa-bangsa dan bersuku-suku supaya kamu saling kenal-mengenal.
                    Sesungguhnya orang yang paling mulia di antara kamu di sisi Allah ialah orang yang paling takwa di antara kamu.
                  <br>dan
                    وَقَالَ عَلَيْهِ الصَّلَاةُ وَالسَّلَامُ: مَنْ تَزَوَّجَ فَقَدْ أُعْطِيَ نِصْفَ الْعِبَادَةِ
                   Dari Anas Bin Malik RA, Rasulullah SAW bersabda: 
                   "Siapa yang menikah maka sungguh ia telah diberi setengahnya ibadah." 
                  </p>
                </div>
              </div>

            </li>
            <li class="timeline-inverted">
              <div class="timeline-image" style="background-image: url(img/Padang.jpg);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Pertemuan Pertama</h3>
                  <span>Menyampaikan Niat Baik (Januari 2025)</span>
                </div>
                <div class="timeline-body">
                  <p>Diawali dengan perkenalan sederhana yang dibantu kenalan oleh teman kami menjadi awal dari niat baik ini. Kurang lebih selama 1 bulan sebelumnya kami mulai berbincang dan di bulan Januari kami memutuskan untuk menyampaikan niat baik kepada orang tua. Dengan izin Allah Swt., dengan langkah yakin dan jarak tempuh sangat jauh yaitu 1.300 KM, 
                    Willy datang ke rumah Sisi untuk menyampaikan keseriusannya langsung kepada orang tua Sisi</p>
                </div>
              </div>

            </li>
            <li>
              <div class="timeline-image" style="background-image: url(img/Khitbah.jpeg);"></div>
              <div class="timeline-panel">
                <div class="timeline-heading">
                  <h3>Pertemuan Kedua</h3>
                  <span>Khitbah/Lamaran Mei 2025</span>
                </div>
                <div class="timeline-body">
                  <p>Bulan demi bulan berlalu, hingga di bulan Mei, ikatan niat kami dikuatkan dalam sebuah khitbah,
                 disaksikan oleh keluarga terdekat yang berjalan lancar dan penuh kebahagiaan.</p>
                </div>
              </div>
            </li>
          </li>
          <li class="timeline-inverted">
            <div class="timeline-image" style="background-image: url(img/Akad.jpg);"></div>
            <div class="timeline-panel">
              <div class="timeline-heading">
                <h3>Pertemuan Ketiga</h3>
                <span>Akad Nikah Januari 2026</span>
              </div>
              <div class="timeline-body">
                <p>Perjalanan panjang ini akhirnya berbuah manis yang insyaallah pada tanggal 17 Januari 2026, kami akan melaksanakan akad nikah.
                  Terima kasih banyak Kak V dan Mas Y sudah membantu semua ini, semoga kalian berdua selalu samawa dan diberkahi Allah Swt.
                </p>
              </div>
            </div>

          </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="gallery" class="gallery">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>Memori Kisah Kami</span>
          <h2>Galeri Foto</h2>
          <p></p>
        </div>
      </div>

      <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 justify-content-center"></div>
        <div class="col mt-3">
          <a href="img/RS1.jpg" data-toggle="lightbox" data-caption="Willy & Sisi" data-gallery="mygallery">
            <img src="img/RS1.png" alt="Willy & Sisi" class="img-fluid w-100 rounded">
          </a>
        </div>
      </div>
    </div>
  </section>
  
  <section id="gifts" class="gifts">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <span>ungkapan tanda kasih</span>
          <h2>Kirim Hadiah</h2>
          <p>Jika Bapak/Ibu/Saudara/i ingin memberikan hadiah dapat dikirimkan ke rekening atau alamat yang tertera di bawah ini dan terima kasih banyak sebelumnya kami ucapkan kepada 
            Bapak/Ibu/Saudara/i yang telah memberikan hadiah semoga selalu diberikan keberkahan</p>
        </div>
      </div>

      <div class="row justify-content-center text-center">
        <div class="col-md-6">
          <ul class="list-group">
  <li class="list-group-item gift-card">
    <img src="img/logo-bca.png" alt="Logo BCA" class="gift-card-logo">
    <div class="rekening-info">
      <span class="rekening-number" id="rekeningBCA">0670208257</span>
      <button class="btn btn-sm btn-light btn-copy" data-copy-target="#rekeningBCA">
        <i class="bi bi-clipboard"></i> Salin
      </button>
    </div>
    <div class="rekening-name">a.n. WILLY ARYANA</div>
  </li>

  <li class="list-group-item gift-card">
    <img src="img/logo-bsi.png" alt="Logo BSI" class="gift-card-logo">
    <div class="rekening-info">
      <span class="rekening-number" id="rekeningBSI">7234784425</span>
      <button class="btn btn-sm btn-light btn-copy" data-copy-target="#rekeningBSI">
        <i class="bi bi-clipboard"></i> Salin
      </button>
    </div>
    <div class="rekening-name">a.n. SISI FEBRIA AGAMI</div>
  </li>

  <li class="list-group-item text-center">
    <div class="fw-bold">EMoney</div>
    <img src="img/barcode.jpeg" alt="GOPAY_Sisi" class="img-thumbnail" width="150">
    <p>Gopay a.n. Sisi Febria Agami</p>
  </li>
  <li class="list-group-item">
    <div class="fw-bold">Alamat</div>
    Kp.Bulak Barat Gg Caing 1, Blok 32 J, Kedaung, Pamulang, Tangerang Selatan, Banten.
  </li>
</ul>
        </div>
      </div>
    </div>
  </section>

  <section id="rsvp" class="rsvp">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-10 text-center">
          <h2>Konfirmasi Kehadiran</h2>
          <p>Isi form di bawah ini untuk melakukan konfirmasi kehadiran.</p>
        </div>
      </div>

      <form class="row row-cols-md-auto g-3 align-items-center justify-content-center" method="POST"
        action= "https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec"
        id="my-form">
        <div class="col-12">
          <div class="mb-3">
            <label for="nama" class="form-label">Nama</label>
            <input type="text" class="form-control" id="nama" name="nama">
          </div>
        </div>
        <div class="col-12">
          <div class="mb-3">
            <label for="jumlah" class="form-label">Jumlah</label>
            <input type="number" class="form-control" id="jumlah" name="jumlah" min="1" max="5" length="1" value="1">
          </div>
        </div>
        <div class="col-12">
          <div class="mb-3">
            <label for="status" class="form-label">Konfirmasi</label>
            <select name="status" id="status" class="form-select">
              <option selected>Pilih salah satu</option>
              <option value="Hadir">Hadir</option>
              <option value="Tidak Hadir">Tidak Hadir</option>
            </select>
          </div>
        </div>
        <div class="col-12">
          <div class="mb-3">
            <label for="ucapan" class="form-label">Ucapan & Doa</label>
            <textarea class="form-control" id="ucapan" name="ucapan" rows="4" placeholder="Tuliskan ucapan dan doa untuk kedua mempelai..."></textarea>
          </div>
        </div>
        <div class="col-12" style="margin-top: 35px;">
          <button class="btn btn-primary">Kirim</button>
        </div>
      </form>

      <!-- Emoticon Response Section -->
      <div class="row justify-content-center mt-4">
        <div class="col-md-8 text-center">
          <h5 class="text-white mb-3">Atau kirim respon cepat:</h5>
          <div class="emoticon-buttons">
            <button class="btn emoticon-btn" data-emoticon="❤️" data-label="Love" title="Love">
              ❤️
              <span class="emoticon-count" id="count-❤️">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="👏" data-label="Applause" title="Applause">
              👏
              <span class="emoticon-count" id="count-👏">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="🎉" data-label="Celebration" title="Celebration">
              🎉
              <span class="emoticon-count" id="count-🎉">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="😍" data-label="Love Eyes" title="Love Eyes">
              😍
              <span class="emoticon-count" id="count-😍">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="🥰" data-label="Smiling Hearts" title="Smiling Face with Hearts">
              🥰
              <span class="emoticon-count" id="count-🥰">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="🤗" data-label="Hugging" title="Hugging Face">
              🤗
              <span class="emoticon-count" id="count-🤗">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="🙏" data-label="Praying" title="Praying Hands">
              🙏
              <span class="emoticon-count" id="count-🙏">0</span>
            </button>
            <button class="btn emoticon-btn" data-emoticon="💐" data-label="Bouquet" title="Bouquet">
              💐
              <span class="emoticon-count" id="count-💐">0</span>
            </button>
          </div>
          
          <!-- Hapus atau comment seluruh bagian ini -->
          <!--
          <div class="emoticon-summary" id="emoticon-summary" style="display: none;">
            <h6><i class="bi bi-bar-chart"></i> Total Respons Emoticon</h6>
            <div class="summary-grid">
              <div class="summary-item">
                <span class="emoji">❤️</span>
                <span class="count" id="summary-❤️">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">👏</span>
                <span class="count" id="summary-👏">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">🎉</span>
                <span class="count" id="summary-🎉">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">😍</span>
                <span class="count" id="summary-😍">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">🥰</span>
                <span class="count" id="summary-🥰">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">🤗</span>
                <span class="count" id="summary-🤗">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">🙏</span>
                <span class="count" id="summary-🙏">0</span>
              </div>
              <div class="summary-item">
                <span class="emoji">💐</span>
                <span class="count" id="summary-💐">0</span>
              </div>
            </div>
          </div>
          -->

          <div id="emoticon-feedback" class="mt-2 text-success" style="display: none;">
            <small>Terima kasih atas responnya! 💕</small>
          </div>
        </div>
      </div>

      <!-- Collapsible RSVP List -->
      <div class="row justify-content-center mt-5">
        <div class="col-md-8">
          <div class="text-center mb-3">
            <button class="btn btn-outline-light" id="toggle-rsvp-list" onclick="toggleRSVPList()">
              <i class="bi bi-list-ul me-2"></i>
              <span id="toggle-text">Lihat Daftar Kehadiran & Ucapan</span>
              <span id="rsvp-count" class="badge bg-light text-dark ms-2">0</span>
            </button>
          </div>
          
          <!-- Preview ucapan pertama -->
          <div id="rsvp-preview" class="text-center mb-3" style="display: none;">
            <div class="card" style="background-color: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); max-width: 400px; margin: 0 auto;">
              <div class="card-body p-3">
                <small class="text-white-50 d-block mb-2">Ucapan terbaru:</small>
                <div id="preview-content" class="text-white">
                  <strong id="preview-nama">-</strong>
                  <p class="mb-0 mt-1 small" id="preview-ucapan" style="font-style: italic;">-</p>
                </div>
                <small class="text-white-50 mt-2 d-block">Klik tombol di atas untuk melihat semua ucapan</small>
              </div>
            </div>
          </div>
          
          <div id="rsvp-container" style="display: none;">
            <div id="loading-message" class="text-center text-white">
              <i class="bi bi-hourglass-split"></i> Memuat data...
            </div>
            <div id="rsvp-list" class="rsvp-responses"></div>
            <div id="error-message" class="text-center text-danger" style="display: none;">
              Gagal memuat data. Silakan refresh halaman.
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>


  <footer>
    <div class="container">
      <div class="row">
        <div class="col text-center">
          <small class="block">&copy; 2025 Willy Wedding Invitation Project. All Rights Reserved.</small>
          <small class="block">Follow Instagram Kami</small>

          <ul class="mt-3">
            <li><a href="https://www.instagram.com/sisifbr/?api=postMessage&hl=am-et"><i class="bi bi-instagram"> @sisifbr</i></a></li>
            <li><a href="https://id.linkedin.com/in/willy-aryana-19218532a"><i class="bi bi-instagram"> @willy.aryana</i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <div id="audio-container">
    <audio id="song" autoplay loop>
      <source src="audio/Nyoman Paul Andi Rianto – The Way You Look At Me (Official Music Video).mp3" type="audio/mp3">
    </audio>

    <div class="audio-icon-wrapper" style="display: none;">
      <i class="bi bi-disc"></i>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>

  <script>
    simplyCountdown('.simply-countdown', {
      year: 2025, // required
      month: 11, // required
      day: 29, // required
      hours: 8, // Default is 0 [0-23] integer
      words: { //words displayed into the countdown
        days: { singular: 'hari', plural: 'hari' },
        hours: { singular: 'jam', plural: 'jam' },
        minutes: { singular: 'menit', plural: 'menit' },
        seconds: { singular: 'detik', plural: 'detik' }
      },
    });
  </script>

  <script>
    const stickyTop = document.querySelector('.sticky-top');
    const offcanvas = document.querySelector('.offcanvas');

    offcanvas.addEventListener('show.bs.offcanvas', function () {
      stickyTop.style.overflow = 'visible';
    });

    offcanvas.addEventListener('hidden.bs.offcanvas', function () {
      stickyTop.style.overflow = 'hidden';
    });

  </script>

  <script>
    const rootElement = document.querySelector(":root");
    const audioIconWrapper = document.querySelector('.audio-icon-wrapper');
    const audioIcon = document.querySelector('.audio-icon-wrapper i');
    const song = document.querySelector('#song');
  let isPlaying = false;

  // ▼▼▼ TAMBAHKAN KODE INI UNTUK LOOPING MULUS ▼▼▼
  song.addEventListener('ended', function() {
      this.currentTime = 0; // Kembali ke awal lagu
      this.play(); // Putar lagi
  }, false);
  // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲

    function disableScroll() {
      scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

      window.onscroll = function () {
        window.scrollTo(scrollTop, scrollLeft);
      }

      rootElement.style.scrollBehavior = 'auto';
    }

    function enableScroll() {
      window.onscroll = function () { }
      rootElement.style.scrollBehavior = 'smooth';
      // localStorage.setItem('opened', 'true');
      playAudio();
    }

    function playAudio() {
  // ▼▼▼ TAMBAHKAN BARIS INI ▼▼▼
  // Tentukan waktu mulai dalam DETIK.
  // Contoh di bawah ini akan memulai musik pada detik ke-75 (atau menit 1, detik 15).
  song.currentTime = 24; 
  // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲

  song.volume = 0.1;
  audioIconWrapper.style.display = 'flex';
  song.play();
  isPlaying = true;
}

    audioIconWrapper.onclick = function () {
      if (isPlaying) {
        song.pause();
        audioIcon.classList.remove('bi-disc');
        audioIcon.classList.add('bi-pause-circle');
      } else {
        song.play();
        audioIcon.classList.add('bi-disc');
        audioIcon.classList.remove('bi-pause-circle');
      }

      isPlaying = !isPlaying;
    }

    // ngedit umar {
    //   disableScroll();
    // }
    disableScroll();
  </script>
  
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const nama = urlParams.get('n') || '';
    const pronoun = urlParams.get('p') || 'Bapak/Ibu/Saudara/i';
    const namaContainer = document.querySelector('.hero h4 span');
    if (namaContainer) {
      namaContainer.innerText = `${pronoun} ${nama},`.replace(/ ,$/, ',');
    }

    document.querySelector('#nama').value = nama;
  </script>
<script>
  // Jalankan script ini setelah semua elemen halaman dimuat
  document.addEventListener('DOMContentLoaded', () => {
    // Ambil semua tombol yang memiliki class .btn-copy
    const copyButtons = document.querySelectorAll('.btn-copy');

    // Untuk setiap tombol yang ditemukan, tambahkan fungsi "klik"
    copyButtons.forEach(button => {
      button.addEventListener('click', () => {
        // 1. Ambil ID target dari atribut data-copy-target
        const targetId = button.dataset.copyTarget;
        const targetElement = document.querySelector(targetId);

        if (targetElement) {
          // 2. Ambil teks (nomor rekening) dari elemen target
          const textToCopy = targetElement.innerText;

          // 3. Gunakan API Clipboard untuk menyalin teks
          navigator.clipboard.writeText(textToCopy).then(() => {
            // -- JIKA BERHASIL DISALIN --
            const originalText = button.innerHTML; // Simpan teks asli tombol
            
            // Ubah teks tombol untuk memberikan feedback ke pengguna
            button.innerHTML = '<i class="bi bi-check-lg"></i> Tersalin!';
            button.disabled = true; // Nonaktifkan tombol sementara

            // Kembalikan teks tombol ke semula setelah 2 detik
            setTimeout(() => {
              button.innerHTML = originalText;
              button.disabled = false;
            }, 2000);

          }).catch(err => {
            // -- JIKA GAGAL DISALIN --
            console.error('Gagal menyalin: ', err);
            alert('Oops, gagal menyalin nomor rekening.');
          });
        }
      });
    });
  });
</script>

<script>
// Global variables
let rsvpData = [];
let isRSVPListVisible = false;
let emoticonCounts = {
  "❤️": 0, "👏": 0, "🎉": 0, "😍": 0,
  "🥰": 0, "🤗": 0, "🙏": 0, "💐": 0
};

// Fungsi untuk toggle tampilan RSVP list
function toggleRSVPList() {
  const container = document.getElementById('rsvp-container');
  const toggleText = document.getElementById('toggle-text');
  const toggleBtn = document.getElementById('toggle-rsvp-list');
  
  if (!isRSVPListVisible) {
    container.style.display = 'block';
    toggleText.textContent = 'Sembunyikan Daftar';
    toggleBtn.innerHTML = '<i class="bi bi-eye-slash me-2"></i><span id="toggle-text">Sembunyikan Daftar</span><span id="rsvp-count" class="badge bg-light text-dark ms-2">' + rsvpData.length + '</span>';
    isRSVPListVisible = true;
    
    // Load data jika belum dimuat
    if (rsvpData.length === 0) {
      loadRSVPData();
    }
  } else {
    container.style.display = 'none';
    toggleText.textContent = 'Lihat Daftar Kehadiran & Ucapan';
    toggleBtn.innerHTML = '<i class="bi bi-list-ul me-2"></i><span id="toggle-text">Lihat Daftar Kehadiran & Ucapan</span><span id="rsvp-count" class="badge bg-light text-dark ms-2">' + rsvpData.length + '</span>';
    isRSVPListVisible = false;
  }
}

// Fungsi untuk mengambil data RSVP dari Google Apps Script
async function loadRSVPData() {
  const loadingMessage = document.getElementById('loading-message');
  const rsvpList = document.getElementById('rsvp-list');
  const errorMessage = document.getElementById('error-message');
  
  try {
    loadingMessage.style.display = 'block';
    rsvpList.innerHTML = '';
    errorMessage.style.display = 'none';
    
    // Ganti URL ini dengan URL Google Apps Script Anda
    const response = await fetch('https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec?action=getAttendees');
    const result = await response.json();
    
    loadingMessage.style.display = 'none';
    
    if (result && result.attendees && Array.isArray(result.attendees)) {
      rsvpData = result.attendees;
      emoticonCounts = result.emoticonCounts || emoticonCounts;
      
      updateRSVPCount();
      updateEmoticonCounts();
      
      if (result.attendees.length > 0) {
        displayRSVPData(result.attendees);
      } else {
        rsvpList.innerHTML = '<p class="text-center text-white-50">Belum ada yang konfirmasi kehadiran.</p>';
      }
    } else {
      rsvpList.innerHTML = '<p class="text-center text-white-50">Belum ada yang konfirmasi kehadiran.</p>';
    }
  } catch (error) {
    console.error('Error loading RSVP data:', error);
    loadingMessage.style.display = 'none';
    errorMessage.style.display = 'block';
  }
}

// Fungsi untuk update jumlah RSVP di badge
function updateRSVPCount() {
  const countBadge = document.getElementById('rsvp-count');
  if (countBadge) {
    countBadge.textContent = rsvpData.length;
  }
  
  // Update preview ucapan pertama
  updateRSVPPreview();
}

// Tambahkan fungsi baru untuk update preview
function updateRSVPPreview() {
  const previewContainer = document.getElementById('rsvp-preview');
  const previewNama = document.getElementById('preview-nama');
  const previewUcapan = document.getElementById('preview-ucapan');
  
  // Selalu tampilkan ucapan tetap dari PT Google Indonesia
  previewNama.textContent = 'PT GOOGLE INDONESIA (GOOGLEPLEX)';
  previewUcapan.textContent = 'Congratulations on your wedding, we are waiting for you here (Pacific Century Place Tower)';
  previewContainer.style.display = 'block';
}

// Update fungsi loadRSVPData untuk memanggil updateRSVPPreview
async function loadRSVPData() {
  const loadingMessage = document.getElementById('loading-message');
  const rsvpList = document.getElementById('rsvp-list');
  const errorMessage = document.getElementById('error-message');
  
  try {
    loadingMessage.style.display = 'block';
    rsvpList.innerHTML = '';
    errorMessage.style.display = 'none';
    
    const response = await fetch('https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec?action=getAttendees');
    const result = await response.json();
    
    loadingMessage.style.display = 'none';
    
    if (result && result.attendees && Array.isArray(result.attendees)) {
      rsvpData = result.attendees;
      emoticonCounts = result.emoticonCounts || emoticonCounts;
      
      updateRSVPCount(); // Ini akan memanggil updateRSVPPreview() juga
      updateEmoticonCounts();
      
      if (result.attendees.length > 0) {
        displayRSVPData(result.attendees);
      } else {
        rsvpList.innerHTML = '<p class="text-center text-white-50">Belum ada yang konfirmasi kehadiran.</p>';
      }
    } else {
      rsvpList.innerHTML = '<p class="text-center text-white-50">Belum ada yang konfirmasi kehadiran.</p>';
    }
  } catch (error) {
    console.error('Error loading RSVP data:', error);
    loadingMessage.style.display = 'none';
    errorMessage.style.display = 'block';
  }
}

// Fungsi untuk menampilkan data RSVP
function displayRSVPData(data) {
  const rsvpList = document.getElementById('rsvp-list');
  let html = '';
  
  data.forEach((item, index) => {
    const ucapan = item.ucapan && item.ucapan.trim() !== '' ? item.ucapan : 'Tidak ada ucapan';
    const jumlah = item.jumlah || 1;
    
    html += `
      <div class="rsvp-item mb-3 p-3 rounded" style="background-color: rgba(255,255,255,0.1); border-left: 4px solid var(--pink);">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <h5 class="mb-1 text-white">${escapeHtml(item.nama)}</h5>
          <small class="text-white-50">${jumlah} orang</small>
        </div>
        <p class="mb-0 text-white-50 small">${escapeHtml(ucapan)}</p>
      </div>
    `;
  });
  
  rsvpList.innerHTML = html;
}

// Fungsi untuk escape HTML characters
function escapeHtml(text) {
  const div = document.createElement('div');
  div.textContent = text;
  return div.innerHTML;
}

// Fungsi untuk mengirim emoticon
async function sendEmoticon(emoticon) {
  try {
    const formData = new FormData();
    formData.append('emoticon', emoticon);
    formData.append('type', 'emoticon');
    
    const response = await fetch('https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec', {
      method: 'POST',
      body: formData
    });
    
    // Update local count immediately for better UX
    emoticonCounts[emoticon]++;
    updateEmoticonCounts();
    
    // Show feedback
    const feedback = document.getElementById('emoticon-feedback');
    feedback.style.display = 'block';
    setTimeout(() => {
      feedback.style.display = 'none';
    }, 3000);
    
    // Refresh RSVP data after a delay to get updated counts from server
    setTimeout(() => {
      if (isRSVPListVisible) {
        loadRSVPData();
      } else {
        // Just update the count
        fetch('https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec?action=getAttendees')
          .then(response => response.json())
          .then(result => {
            if (result && result.attendees && Array.isArray(result.attendees)) {
              rsvpData = result.attendees;
              emoticonCounts = result.emoticonCounts || emoticonCounts;
              updateRSVPCount();
              updateEmoticonCounts();
            }
          })
          .catch(error => console.error('Error updating count:', error));
      }
    }, 1000);
    
  } catch (error) {
    console.error('Error sending emoticon:', error);
    // Revert local count if there was an error
    emoticonCounts[emoticon]--;
    updateEmoticonCounts();
  }
}

// Event listeners
document.addEventListener('DOMContentLoaded', function() {
  // Tampilkan preview ucapan tetap langsung saat halaman dimuat
  updateRSVPPreview();
  
  // Load initial count
  loadRSVPData().then(() => {
    // Hide the container after loading count
    document.getElementById('rsvp-container').style.display = 'none';
  });
  
  // Emoticon button event listeners
  document.querySelectorAll('.emoticon-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const emoticon = this.getAttribute('data-emoticon');
      sendEmoticon(emoticon);
      
      // Visual feedback
      this.style.transform = 'scale(1.1)';
      setTimeout(() => {
        this.style.transform = 'scale(1)';
      }, 200);
    });
  });
});

// Form submission handler
document.getElementById('my-form').addEventListener('submit', function(e) {
  e.preventDefault();
  const data = new FormData(this);
  const action = e.target.action;
  
  fetch(action, {
    method: 'POST',
    body: data,
  })
  .then(() => {
    alert("Konfirmasi kehadiran berhasil terkirim!");
    // Reset form
    this.reset();
    document.querySelector('#jumlah').value = 1;
    // Refresh data RSVP setelah 2 detik
    setTimeout(() => {
      if (isRSVPListVisible) {
        loadRSVPData();
      } else {
        // Just update the count
        fetch('https://script.google.com/macros/s/AKfycbwQzWPjcSGeqileIib3tjSD-lzVlNduq1EzgWEoguxQWEMgmeuwqWThQMiP95QO_x4T/exec?action=getAttendees')
          .then(response => response.json())
          .then(result => {
            if (result && result.attendees && Array.isArray(result.attendees)) {
              rsvpData = result.attendees;
              emoticonCounts = result.emoticonCounts || emoticonCounts;
              updateRSVPCount();
              updateEmoticonCounts();
            }
          })
          .catch(error => console.error('Error updating count:', error));
      }
    }, 2000);
  })
  .catch(error => {
    console.error('Error:', error);
    alert("Terjadi kesalahan saat mengirim data.");
  });
});

// Fungsi untuk update emoticon counts di tampilan
function updateEmoticonCounts() {
  // const summaryContainer = document.getElementById('emoticon-summary');
  let totalEmoticons = 0;

  for (const emoticon in emoticonCounts) {
    const count = emoticonCounts[emoticon];
    document.getElementById(`count-${emoticon}`).textContent = count;
    // document.getElementById(`summary-${emoticon}`).textContent = count; // Hapus baris ini
    totalEmoticons += count;
  }

  // Hapus bagian ini karena summary sudah dihilangkan
  // if (totalEmoticons > 0) {
  //   summaryContainer.style.display = 'block';
  // } else {
  //   summaryContainer.style.display = 'none';
  // }
}
</script>
</body>
</html>
